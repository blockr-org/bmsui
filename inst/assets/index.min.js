!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";let e="";const s=s=>{e!=s&&($(".bms-sidebar-open").removeClass("active"),$(".bms-sidebar-item").each(((a,i)=>{let t=$(i);if(t.data("tab")!=s)t.addClass("d-none"),t.trigger("hidden");else{$(`.bms-sidebar-open[data-target='${s}']`).addClass("active"),t.removeClass("d-none"),t.trigger("shown"),e=s;const a=new CustomEvent("bms:show-tab",{detail:t.data("description")});document.dispatchEvent(a)}})))},a=()=>{$(".bms-sidebar-open").off("click"),$(".bms-sidebar-open").on("click",(e=>{let a=$(e.currentTarget).data("target");s(a)}))},i=()=>{$(".bms-sidebar-collapsible-open").off(),$(".bms-sidebar-collapsible-open").on("click",(e=>{$(e.currentTarget).find(".bms-sidebar-collapsible-icon").toggleClass("fa-chevron-down fa-chevron-up")}))},t=e=>`<div class='bms-sidebar-open mb-2' data-target='${e}'>${e}</div>`,d=e=>`<div class='bms-sidebar-open bms-sidebar-open-collapsible mb-2' data-target='${e}'>${e}</div>`,n=e=>`<div class='bms-sidebar-collapsible-open mb-2' data-bs-toggle="collapse" href="#${e}" data-id="${e}">\n    ${e}\n    <i class="fas fa-chevron-down float-right bms-sidebar-collapsible-icon"></i>\n  </div>\n  <div class="bms-sidebar-collapsible-content collapse" id="${e}">\n  </div>`,l=e=>`<div class='bms-sidebar-item d-none' data-tab='${e.title}'>${e.content}</div>`,b=()=>{$(document).off("bms:show-tab"),$(document).on("bms:show-tab",(e=>{if(e.detail,null==e.detail)return void $("#bms-sidebar-description").html(null);let s=`<p class="fw-bold mb-0">Description</p>\n      <hr/ style="margin-top:0;margin-bottom:.3rem;">\n      <div>\n        ${e.detail}\n      </div>`;$("#bms-sidebar-description").html(s)})),(()=>{let e=$(".bms-sidebar-open").first().data("target");s(e)})(),a(),Shiny.addCustomMessageHandler("insert-sidebar-item",(e=>{$("#bms-sidebar-container .bms-sidebar").append(t(e.title)),$("#bms-tabs").append(l(e)),a()})),Shiny.addCustomMessageHandler("insert-sidebar-collapsible",(e=>{$("#bms-sidebar-container .bms-sidebar").append(n(e.title)),i()})),Shiny.addCustomMessageHandler("insert-sidebar-collapsible-item",(e=>{$(`[data-id='${e.target}']`).append(d(e.title)),$("#bms-tabs").append(l(e)),a()})),Shiny.addCustomMessageHandler("select-sidebar-item",(e=>{s(e.title)})),i()};$((()=>{b()}))}));
