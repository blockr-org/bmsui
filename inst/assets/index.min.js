let lastTab="";const showTab=e=>{lastTab!=e&&($(".bms-sidebar-open").removeClass("active"),$(".bms-sidebar-item").each(((s,t)=>{let a=$(t);if(a.data("tab")!=e)a.addClass("d-none"),a.trigger("hidden");else{$(`.bms-sidebar-open[data-target='${e}']`).addClass("active"),a.removeClass("d-none"),a.trigger("shown"),lastTab=e;const s=new CustomEvent("bms:show-tab",{detail:a.data("description")});document.dispatchEvent(s)}})))},showTabDescription=()=>{$(document).off("bms:show-tab"),$(document).on("bms:show-tab",(e=>{if(e.detail,null==e.detail)return void $("#bms-sidebar-description").html(null);let s=`<p class="fw-bold mb-0">Description</p>\n      <hr/ style="margin-top:0;margin-bottom:.3rem;">\n      <div>\n        ${e.detail}\n      </div>`;$("#bms-sidebar-description").html(s)}))},listenTabs=()=>{$(".bms-sidebar-open").off("click"),$(".bms-sidebar-open").on("click",(e=>{let s=$(e.currentTarget).data("target");showTab(s)}))},handleSidebarCollapsible=()=>{$(".bms-sidebar-collapsible-open").off(),$(".bms-sidebar-collapsible-open").on("click",(e=>{$(e.currentTarget).find(".bms-sidebar-collapsible-icon").toggleClass("fa-chevron-down fa-chevron-up")}))},handleInsert=()=>{window.Shiny.addCustomMessageHandler("insert-sidebar-item",(e=>{$(sidebarEntry(e.title,e.id)).insertAfter($(".bms-sidebar-open").last()),$("#bms-tabs").append(tab(e)),window.Shiny.renderDependenciesAsync(e.content.deps).then((()=>{window.Shiny.renderContentAsync($(`[data-tab='${e.id}']`),e.content.html).then((()=>{listenTabs();const s=new CustomEvent("bms:inserted-tab",{detail:e.id});document.dispatchEvent(s)}))}))})),window.Shiny.addCustomMessageHandler("insert-sidebar-collapsible",(e=>{$(".bms-sidebar-open").last().insertAfter(sidebarEntryCollapsible(e.title)),handleSidebarCollapsible()})),window.Shiny.addCustomMessageHandler("insert-sidebar-collapsible-item",(e=>{$(`[data-id='${e.target}']`).append(sidebarEntryCollapsibleItem(e.title)),$("#bms-tabs").append(tab(e)),listenTabs()}))},sidebarEntry=(e,s)=>`<div class='bms-sidebar-open mb-2' data-target='${s}'>${e}</div>`,sidebarEntryCollapsibleItem=e=>`<div class='bms-sidebar-open bms-sidebar-open-collapsible mb-2' data-target='${e}'>${e}</div>`,sidebarEntryCollapsible=e=>`<div class='bms-sidebar-collapsible-open mb-2' data-bs-toggle="collapse" href="#${e}" data-id="${e}">\n    ${e}\n    <i class="fas fa-chevron-down float-right bms-sidebar-collapsible-icon"></i>\n  </div>\n  <div class="bms-sidebar-collapsible-content collapse" id="${e}">\n  </div>`,tab=e=>`<div class='bms-sidebar-item d-none' data-tab='${e.id}'></div>`,handleSelect=()=>{Shiny.addCustomMessageHandler("select-sidebar-item",(e=>{showTab(e.title)}))},showFirstTab=()=>{let e=$(".bms-sidebar-open").first().data("target");showTab(e)},sidebar=()=>{$(document).off("bms:show-tab"),$(document).on("bms:show-tab",(e=>{if(e.detail,null==e.detail)return void $("#bms-sidebar-description").html(null);let s=`<p class="fw-bold mb-0">Description</p>\n      <hr/ style="margin-top:0;margin-bottom:.3rem;">\n      <div>\n        ${e.detail}\n      </div>`;$("#bms-sidebar-description").html(s)})),showFirstTab(),listenTabs(),window.Shiny.addCustomMessageHandler("insert-sidebar-item",(e=>{$(sidebarEntry(e.title,e.id)).insertAfter($(".bms-sidebar-open").last()),$("#bms-tabs").append(tab(e)),window.Shiny.renderDependenciesAsync(e.content.deps).then((()=>{window.Shiny.renderContentAsync($(`[data-tab='${e.id}']`),e.content.html).then((()=>{listenTabs();const s=new CustomEvent("bms:inserted-tab",{detail:e.id});document.dispatchEvent(s)}))}))})),window.Shiny.addCustomMessageHandler("insert-sidebar-collapsible",(e=>{$(".bms-sidebar-open").last().insertAfter(sidebarEntryCollapsible(e.title)),handleSidebarCollapsible()})),window.Shiny.addCustomMessageHandler("insert-sidebar-collapsible-item",(e=>{$(`[data-id='${e.target}']`).append(sidebarEntryCollapsibleItem(e.title)),$("#bms-tabs").append(tab(e)),listenTabs()})),Shiny.addCustomMessageHandler("select-sidebar-item",(e=>{showTab(e.title)})),handleSidebarCollapsible()};$((()=>{$(document).off("bms:show-tab"),$(document).on("bms:show-tab",(e=>{if(e.detail,null==e.detail)return void $("#bms-sidebar-description").html(null);let s=`<p class="fw-bold mb-0">Description</p>\n      <hr/ style="margin-top:0;margin-bottom:.3rem;">\n      <div>\n        ${e.detail}\n      </div>`;$("#bms-sidebar-description").html(s)})),showFirstTab(),listenTabs(),window.Shiny.addCustomMessageHandler("insert-sidebar-item",(e=>{$(sidebarEntry(e.title,e.id)).insertAfter($(".bms-sidebar-open").last()),$("#bms-tabs").append(tab(e)),window.Shiny.renderDependenciesAsync(e.content.deps).then((()=>{window.Shiny.renderContentAsync($(`[data-tab='${e.id}']`),e.content.html).then((()=>{listenTabs();const s=new CustomEvent("bms:inserted-tab",{detail:e.id});document.dispatchEvent(s)}))}))})),window.Shiny.addCustomMessageHandler("insert-sidebar-collapsible",(e=>{$(".bms-sidebar-open").last().insertAfter(sidebarEntryCollapsible(e.title)),handleSidebarCollapsible()})),window.Shiny.addCustomMessageHandler("insert-sidebar-collapsible-item",(e=>{$(`[data-id='${e.target}']`).append(sidebarEntryCollapsibleItem(e.title)),$("#bms-tabs").append(tab(e)),listenTabs()})),Shiny.addCustomMessageHandler("select-sidebar-item",(e=>{showTab(e.title)})),handleSidebarCollapsible()}));
//# sourceMappingURL=index.min.js.map
