let lastTab="";const showTab=e=>{lastTab!=e&&($(".bms-sidebar-open").removeClass("active"),$(".bms-sidebar-item").each(((a,s)=>{let i=$(s);if(i.data("tab")!=e)i.addClass("d-none"),i.trigger("hidden");else{$(`.bms-sidebar-open[data-target='${e}']`).addClass("active"),i.removeClass("d-none"),i.trigger("shown"),lastTab=e;const a=new CustomEvent("bms:show-tab",{detail:i.data("description")});document.dispatchEvent(a)}})))},showTabDescription=()=>{$(document).off("bms:show-tab"),$(document).on("bms:show-tab",(e=>{if(e.detail,null==e.detail)return void $("#bms-sidebar-description").html(null);let a=`<p class="fw-bold mb-0">Description</p>\n      <hr/ style="margin-top:0;margin-bottom:.3rem;">\n      <div>\n        ${e.detail}\n      </div>`;$("#bms-sidebar-description").html(a)}))},listenTabs=()=>{$(".bms-sidebar-open").off("click"),$(".bms-sidebar-open").on("click",(e=>{let a=$(e.currentTarget).data("target");showTab(a)}))},handleSidebarCollapsible=()=>{$(".bms-sidebar-collapsible-open").off(),$(".bms-sidebar-collapsible-open").on("click",(e=>{$(e.currentTarget).find(".bms-sidebar-collapsible-icon").toggleClass("fa-chevron-down fa-chevron-up")}))},handleInsert=()=>{Shiny.addCustomMessageHandler("insert-sidebar-item",(e=>{$("#bms-sidebar-container .bms-sidebar").append(sidebarEntry(e.title)),$("#bms-tabs").append(tab(e)),listenTabs()})),Shiny.addCustomMessageHandler("insert-sidebar-collapsible",(e=>{$("#bms-sidebar-container .bms-sidebar").append(sidebarEntryCollapsible(e.title)),handleSidebarCollapsible()})),Shiny.addCustomMessageHandler("insert-sidebar-collapsible-item",(e=>{$(`[data-id='${e.target}']`).append(sidebarEntryCollapsibleItem(e.title)),$("#bms-tabs").append(tab(e)),listenTabs()}))},sidebarEntry=e=>`<div class='bms-sidebar-open mb-2' data-target='${e}'>${e}</div>`,sidebarEntryCollapsibleItem=e=>`<div class='bms-sidebar-open bms-sidebar-open-collapsible mb-2' data-target='${e}'>${e}</div>`,sidebarEntryCollapsible=e=>`<div class='bms-sidebar-collapsible-open mb-2' data-bs-toggle="collapse" href="#${e}" data-id="${e}">\n    ${e}\n    <i class="fas fa-chevron-down float-right bms-sidebar-collapsible-icon"></i>\n  </div>\n  <div class="bms-sidebar-collapsible-content collapse" id="${e}">\n  </div>`,tab=e=>`<div class='bms-sidebar-item d-none' data-tab='${e.title}'>${e.content}</div>`,handleSelect=()=>{Shiny.addCustomMessageHandler("select-sidebar-item",(e=>{showTab(e.title)}))},showFirstTab=()=>{let e=$(".bms-sidebar-open").first().data("target");showTab(e)},sidebar=()=>{$(document).off("bms:show-tab"),$(document).on("bms:show-tab",(e=>{if(e.detail,null==e.detail)return void $("#bms-sidebar-description").html(null);let a=`<p class="fw-bold mb-0">Description</p>\n      <hr/ style="margin-top:0;margin-bottom:.3rem;">\n      <div>\n        ${e.detail}\n      </div>`;$("#bms-sidebar-description").html(a)})),showFirstTab(),listenTabs(),Shiny.addCustomMessageHandler("insert-sidebar-item",(e=>{$("#bms-sidebar-container .bms-sidebar").append(sidebarEntry(e.title)),$("#bms-tabs").append(tab(e)),listenTabs()})),Shiny.addCustomMessageHandler("insert-sidebar-collapsible",(e=>{$("#bms-sidebar-container .bms-sidebar").append(sidebarEntryCollapsible(e.title)),handleSidebarCollapsible()})),Shiny.addCustomMessageHandler("insert-sidebar-collapsible-item",(e=>{$(`[data-id='${e.target}']`).append(sidebarEntryCollapsibleItem(e.title)),$("#bms-tabs").append(tab(e)),listenTabs()})),Shiny.addCustomMessageHandler("select-sidebar-item",(e=>{showTab(e.title)})),handleSidebarCollapsible()};$((()=>{$(document).off("bms:show-tab"),$(document).on("bms:show-tab",(e=>{if(e.detail,null==e.detail)return void $("#bms-sidebar-description").html(null);let a=`<p class="fw-bold mb-0">Description</p>\n      <hr/ style="margin-top:0;margin-bottom:.3rem;">\n      <div>\n        ${e.detail}\n      </div>`;$("#bms-sidebar-description").html(a)})),showFirstTab(),listenTabs(),Shiny.addCustomMessageHandler("insert-sidebar-item",(e=>{$("#bms-sidebar-container .bms-sidebar").append(sidebarEntry(e.title)),$("#bms-tabs").append(tab(e)),listenTabs()})),Shiny.addCustomMessageHandler("insert-sidebar-collapsible",(e=>{$("#bms-sidebar-container .bms-sidebar").append(sidebarEntryCollapsible(e.title)),handleSidebarCollapsible()})),Shiny.addCustomMessageHandler("insert-sidebar-collapsible-item",(e=>{$(`[data-id='${e.target}']`).append(sidebarEntryCollapsibleItem(e.title)),$("#bms-tabs").append(tab(e)),listenTabs()})),Shiny.addCustomMessageHandler("select-sidebar-item",(e=>{showTab(e.title)})),handleSidebarCollapsible()}));
//# sourceMappingURL=index.min.js.map
